<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vendors - SapaSpots</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" href="favicon.svg" type="image/svg+xml">
  <style>
    /* Vendors page styles */
    .page-header {
      padding: 2rem 1.5rem;
      background-color: #f8f9fa;
      border-radius: 12px;
      margin: 1.5rem auto;
      max-width: 1200px;
    }
    
    .page-title {
      font-size: 1.8rem;
      font-weight: 700;
      color: #212529;
      margin-bottom: 1rem;
    }
    
    .page-description {
      color: #6c757d;
      margin-bottom: 0;
      max-width: 700px;
    }
    
    /* Filters section */
    .filters-section {
      margin: 1rem auto 2rem;
      max-width: 1200px;
      padding: 0 1.5rem;
    }
    
    .filters-container {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      align-items: center;
      margin-bottom: 1rem;
    }
    
    .search-container {
      flex: 1;
      min-width: 200px;
      position: relative;
    }
    
    .search-input {
      width: 100%;
      padding: 0.75rem 1rem 0.75rem 2.75rem;
      border: 1px solid #dee2e6;
      border-radius: 8px;
      font-size: 1rem;
      background-color: #fff;
      transition: all 0.2s ease;
    }
    
    .search-input:focus {
      outline: none;
      border-color: #0066cc;
      box-shadow: 0 0 0 3px rgba(0, 102, 204, 0.1);
    }
    
    .search-icon {
      position: absolute;
      left: 1rem;
      top: 50%;
      transform: translateY(-50%);
      color: #6c757d;
    }
    
    .filter-group {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
    }
    
    .filter-button {
      padding: 0.75rem 1rem;
      background-color: #fff;
      border: 1px solid #dee2e6;
      border-radius: 8px;
      font-size: 0.95rem;
      color: #495057;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .filter-button:hover {
      background-color: #f8f9fa;
    }
    
    .filter-button.active {
      background-color: #e6f0ff;
      border-color: #0066cc;
      color: #0066cc;
    }
    
    .filter-button svg {
      width: 16px;
      height: 16px;
    }
    
    .results-count {
      color: #6c757d;
      font-size: 0.9rem;
      margin: 0 0 1rem;
    }
    
    /* Vendors grid */
    .vendors-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 1.5rem;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1.5rem 3rem;
    }
    
    .vendor-card {
      background-color: #fff;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      transition: all 0.3s ease;
      height: 100%;
      display: flex;
      flex-direction: column;
    }
    
    .vendor-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
    }
    
    .vendor-image {
      height: 180px;
      width: 100%;
      object-fit: cover;
    }
    
    .vendor-content {
      padding: 1.25rem;
      display: flex;
      flex-direction: column;
      flex-grow: 1;
    }
    
    .vendor-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 0.5rem;
    }
    
    .vendor-title {
      font-weight: 700;
      font-size: 1.1rem;
      color: #212529;
      margin: 0 0 0.25rem;
    }
    
    .vendor-category {
      color: #6c757d;
      font-size: 0.85rem;
      display: flex;
      align-items: center;
      gap: 0.35rem;
      margin-bottom: 0.75rem;
    }
    
    .vendor-status {
      font-size: 0.75rem;
      font-weight: 600;
      padding: 0.25rem 0.5rem;
      border-radius: 4px;
      text-transform: uppercase;
    }
    
    .status-open {
      background-color: #d4edda;
      color: #155724;
    }
    
    .status-closed {
      background-color: #f8d7da;
      color: #721c24;
    }
    
    .vendor-rating {
      display: flex;
      align-items: center;
      gap: 0.35rem;
      margin-bottom: 0.75rem;
    }
    
    .rating-stars {
      color: #ffc107;
      font-size: 0.95rem;
    }
    
    .rating-count {
      color: #6c757d;
      font-size: 0.85rem;
    }
    
    .vendor-badges {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-bottom: 0.75rem;
    }
    
    .vendor-badge {
      background-color: #f1f3f5;
      color: #495057;
      font-size: 0.75rem;
      padding: 0.25rem 0.5rem;
      border-radius: 4px;
      display: flex;
      align-items: center;
      gap: 0.25rem;
    }
    
    .vendor-badge svg {
      width: 12px;
      height: 12px;
    }
    
    .wifi-badge {
      background-color: #e6f0ff;
      color: #0066cc;
    }
    
    .delivery-badge {
      background-color: #fff1e5;
      color: #fd7e14;
    }
    
    .card-badge {
      background-color: #e9ecef;
      color: #343a40;
    }
    
    .vendor-location {
      color: #6c757d;
      font-size: 0.85rem;
      margin-bottom: 0.5rem;
      display: flex;
      align-items: flex-start;
      gap: 0.35rem;
    }
    
    .vendor-location svg {
      width: 14px;
      height: 14px;
      margin-top: 0.2rem;
      flex-shrink: 0;
    }
    
    .vendor-hours {
      color: #6c757d;
      font-size: 0.85rem;
      margin-bottom: 0.5rem;
      display: flex;
      align-items: flex-start;
      gap: 0.35rem;
    }
    
    .vendor-hours svg {
      width: 14px;
      height: 14px;
      margin-top: 0.2rem;
      flex-shrink: 0;
    }
    
    .vendor-description {
      color: #495057;
      font-size: 0.9rem;
      margin-bottom: 1.25rem;
      flex-grow: 1;
    }
    
    .vendor-link {
      background-color: #0066cc;
      color: white;
      border-radius: 8px;
      padding: 0.75rem 1rem;
      text-align: center;
      font-weight: 500;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
    }
    
    .vendor-link:hover {
      background-color: #0052a3;
    }
    
    .vendor-link svg {
      width: 16px;
      height: 16px;
    }
    
    .no-results {
      grid-column: 1 / -1;
      text-align: center;
      padding: 2rem;
      color: #6c757d;
    }
    
    /* Responsive styles */
    @media (max-width: 768px) {
      .filters-container {
        flex-direction: column;
        align-items: stretch;
      }
      
      .search-container {
        min-width: 100%;
      }
      
      .filter-group {
        justify-content: space-between;
      }
      
      .filter-button {
        flex: 1;
        justify-content: center;
      }
      
      .vendors-grid {
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 1rem;
        padding: 0 1rem 2rem;
      }
    }
    
    @media (max-width: 480px) {
      .page-header {
        padding: 1.5rem 1rem;
        margin: 1rem;
      }
      
      .vendors-grid {
        grid-template-columns: 1fr;
      }
      
      .vendor-image {
        height: 160px;
      }
    }
  </style>
</head>
<body>
  <!-- Header will be loaded here -->
  <div id="header-container"></div>
  
  <main>
    <!-- Page header -->
    <div class="page-header">
      <h1 class="page-title">Campus Food Vendors</h1>
      <p class="page-description">Discover the best places to eat around campus. From fast food to traditional meals, we've got you covered.</p>
    </div>
    
    <!-- Filters section -->
    <div class="filters-section">
      <div class="filters-container">
        <div class="search-container">
          <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="11" cy="11" r="8"></circle>
            <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
          </svg>
          <input type="text" id="search-input" class="search-input" placeholder="Search by name, dish, or location...">
        </div>
        
        <div class="filter-group">
          <button class="filter-button active" data-filter="all">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M22 3H2l8 9.46V19l4 2v-8.54L22 3z"></path>
            </svg>
            All Vendors
          </button>
          <button class="filter-button" data-filter="open">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <polyline points="9 11 12 14 22 4"></polyline>
              <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>
            </svg>
            Open Now
          </button>
          <button class="filter-button" data-filter="bbq">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M8 3L4 7l5 5M16 3l4 4-5 5"></path>
              <line x1="4" y1="15" x2="20" y2="15"></line>
              <line x1="4" y1="19" x2="20" y2="19"></line>
            </svg>
            BBQ
          </button>
          <button class="filter-button" data-filter="fastfood">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M5.5 5.5A.5.5 0 0 1 6 6v1h1v1H6v1a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5M7.5 5.5A.5.5 0 0 1 8 6v4a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5M2.375 7.5A.125.125 0 0 1 2.5 7.625v1.75A.125.125 0 0 1 2.375 9.5h-1.75A.125.125 0 0 1 .5 9.375v-1.75A.125.125 0 0 1 .625 7.5ZM3.5 5.5c0-1.5 1.5-3 3-3s3 1.5 3 3v4c0 1-1.5 2-3 2s-3-1-3-2Z"></path>
              <path d="M3.75 0h1.5v5h-1.5Zm-3 4h1.5v1h-1.5Z"></path>
            </svg>
            Fast Food
          </button>
          <button class="filter-button" data-filter="wifi">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M5 12.55a11 11 0 0 1 14.08 0"></path>
              <path d="M1.42 9a16 16 0 0 1 21.16 0"></path>
              <path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path>
              <line x1="12" y1="20" x2="12.01" y2="20"></line>
            </svg>
            Free WiFi
          </button>
        </div>
      </div>
      
      <p class="results-count"><span id="results-count">8</span> vendors found</p>
    </div>
    
    <!-- Vendors grid -->
    <div class="vendors-grid" id="vendors-grid">
      <!-- Vendor cards will be populated with JavaScript -->
    </div>
  </main>
  
  <!-- Footer will be loaded here -->
  <div id="footer-container"></div>
  
  <script src="localstorage-utils.js"></script>
  <script src="script.js"></script>
  <script src="realtime-sync.js"></script>
  <script>
    // Vendors data - will be stored in localStorage
    const vendorsData = [
      {
        id: "v1",
        name: "THE CAMPUS BARBEQUE CENTRE",
        category: "BBQ",
        image: "berbeque.jpg",
        rating: 4,
        reviews: 42,
        badges: ["Delivery", "Card Payment"],
        location: "6GGJ8HMC+FQCW Makerere University, Kampala",
        hours: "Mon-Sat: 10:00 AM-10:00 PM, Sun: Open 24 hours",
        description: "Specializing in delicious barbecue meats and grilled specialties.",
        open: true
      },
      {
        id: "v2",
        name: "Best Foods Restaurant",
        category: "Fast Food",
        image: "matooke.webp",
        rating: 4,
        reviews: 38,
        badges: ["Delivery"],
        location: "8HH9+9M9, Makerere Hill Rd, Kampala",
        hours: "7:00 AM-11:00 PM daily",
        description: "Local Ugandan cuisine and international favorites.",
        open: true
      },
      {
        id: "v3",
        name: "Crave Cave Takeaway Restaurant",
        category: "24-hours, Fast Food",
        image: "pizza.jpg",
        rating: 4,
        reviews: 29,
        badges: ["Delivery", "Card Payment"],
        location: "Makerere Kikoni, Makerere",
        hours: "Open 24 hours (Closed on Saturdays)",
        description: "24-hour food solution with takeaway options.",
        open: true
      },
      {
        id: "v4",
        name: "UMAR CHICKEN PRESIDENT",
        category: "Fast Food, WiFi",
        image: "steak.jpg",
        rating: 4,
        reviews: 45,
        badges: ["Free Wi-Fi", "Delivery"],
        location: "Ham Shopping Mall, Kampala",
        hours: "8:00 AM-10:00 PM daily",
        description: "Famous for crispy fried chicken and chips.",
        open: false
      },
      {
        id: "v5",
        name: "COCIS BLOCK B",
        category: "Halls, WiFi",
        image: "fish.webp",
        rating: 4,
        reviews: 31,
        badges: ["Free Wi-Fi", "Parking"],
        location: "College of Computing and IT, Makerere",
        hours: "7:30 AM-8:00 PM Mon-Fri, 8:00 AM-6:00 PM Weekends",
        description: "Affordable meals, quick service, student-friendly.",
        open: true
      },
      {
        id: "v6",
        name: "Guild Canteen",
        category: "Halls, Fast Food",
        image: "rolex.jpg",
        rating: 4,
        reviews: 47,
        badges: ["Free Wi-Fi"],
        location: "Makerere Guild Building, Makerere",
        hours: "6:30 AM-9:00 PM daily",
        description: "Wide range of meals in a vibrant atmosphere.",
        open: true
      },
      {
        id: "v7",
        name: "Africa Hall Cafeteria",
        category: "Halls",
        image: "greens1.jpg",
        rating: 4,
        reviews: 41,
        badges: ["Card Payment"],
        location: "Africa Hall, Makerere University",
        hours: "6:00 AM-10:00 PM daily",
        description: "Traditional Ugandan food at reasonable prices.",
        open: false
      },
      {
        id: "v8",
        name: "Nsibirwa Hall Canteen",
        category: "Halls, WiFi",
        image: "beans1.jpg",
        rating: 3,
        reviews: 35,
        badges: ["Free Wi-Fi"],
        location: "Nsibirwa Hall, Makerere University",
        hours: "6:30 AM-9:30 PM Mon-Sat, 7:00 AM-8:00 PM Sun",
        description: "Budget meals, breakfast specials, evening snacks.",
        open: true
      }
    ];
    
    // Save vendors data to localStorage
    function saveVendorData() {
      if (!localStorage.getItem('vendors')) {
        localStorage.setItem('vendors', JSON.stringify(vendorsData));
      }
    }
    
    // Get vendors from localStorage
    function getVendorsData() {
      const vendors = localStorage.getItem('vendors');
      return vendors ? JSON.parse(vendors) : vendorsData;
    }
    
    // Render star rating
    function renderStars(rating) {
      let stars = '';
      for (let i = 1; i <= 5; i++) {
        if (i <= rating) {
          stars += '★';
        } else {
          stars += '☆';
        }
      }
      return stars;
    }
    
    // Render vendor cards
    function renderVendors(vendors) {
      const vendorsGrid = document.getElementById('vendors-grid');
      vendorsGrid.innerHTML = '';
      
      if (vendors.length === 0) {
        vendorsGrid.innerHTML = '<div class="no-results">No vendors found matching your search criteria</div>';
        document.getElementById('results-count').textContent = '0';
        return;
      }
      
      document.getElementById('results-count').textContent = vendors.length;
      
      vendors.forEach(vendor => {
        const vendorCard = document.createElement('div');
        vendorCard.className = 'vendor-card';
        
        const badgesHtml = vendor.badges.map(badge => {
          let badgeClass = '';
          let badgeIcon = '';
          
          if (badge === 'Free Wi-Fi') {
            badgeClass = 'wifi-badge';
            badgeIcon = '<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12.55a11 11 0 0 1 14.08 0"></path><path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path><line x1="12" y1="20" x2="12.01" y2="20"></line></svg>';
          } else if (badge === 'Delivery') {
            badgeClass = 'delivery-badge';
            badgeIcon = '<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 17h6a2 2 0 0 0 2-2v-2h2a1 1 0 0 0 .89-1.46L18 7a1 1 0 0 0-.89-.54h-5V5a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h2"></path><circle cx="13" cy="17" r="2"></circle><circle cx="5" cy="17" r="2"></circle></svg>';
          } else if (badge === 'Card Payment') {
            badgeClass = 'card-badge';
            badgeIcon = '<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="5" width="20" height="14" rx="2" ry="2"></rect><line x1="2" y1="10" x2="22" y2="10"></line></svg>';
          } else if (badge === 'Parking') {
            badgeIcon = '<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><path d="M9 9h4a2 2 0 0 1 0 4h-4V9z"></path><line x1="9" y1="13" x2="9" y2="17"></line></svg>';
          }
          
          return `<div class="vendor-badge ${badgeClass}">${badgeIcon}${badge}</div>`;
        }).join('');
        
        vendorCard.innerHTML = `
          <img src="${vendor.image}" alt="${vendor.name}" class="vendor-image">
          <div class="vendor-content">
            <div class="vendor-header">
              <h3 class="vendor-title">${vendor.name}</h3>
              <span class="vendor-status ${vendor.open ? 'status-open' : 'status-closed'}">${vendor.open ? 'Open' : 'Closed'}</span>
            </div>
            <div class="vendor-category">
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path>
                <line x1="7" y1="7" x2="7.01" y2="7"></line>
              </svg>
              ${vendor.category}
            </div>
            <div class="vendor-rating">
              <span class="rating-stars">${renderStars(vendor.rating)}</span>
              <span class="rating-count">(${vendor.reviews} reviews)</span>
            </div>
            <div class="vendor-badges">
              ${badgesHtml}
            </div>
            <div class="vendor-location">
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                <circle cx="12" cy="10" r="3"></circle>
              </svg>
              ${vendor.location}
            </div>
            <div class="vendor-hours">
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="10"></circle>
                <polyline points="12 6 12 12 16 14"></polyline>
              </svg>
              ${vendor.hours}
            </div>
            <p class="vendor-description">${vendor.description}</p>
            <a href="vendor.html?id=${vendor.id}" class="vendor-link">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M6 9l6 6l6 -6"></path>
              </svg>
              View Menu
            </a>
          </div>
        `;
        
        vendorsGrid.appendChild(vendorCard);
      });
    }
    
    // Filter vendors
    function filterVendors() {
      const searchTerm = document.getElementById('search-input').value.toLowerCase();
      const activeFilter = document.querySelector('.filter-button.active').dataset.filter;
      
      const vendors = getVendorsData();
      
      const filteredVendors = vendors.filter(vendor => {
        const nameMatch = vendor.name.toLowerCase().includes(searchTerm);
        const categoryMatch = vendor.category.toLowerCase().includes(searchTerm);
        const descriptionMatch = vendor.description.toLowerCase().includes(searchTerm);
        const locationMatch = vendor.location.toLowerCase().includes(searchTerm);
        const textMatch = nameMatch || categoryMatch || descriptionMatch || locationMatch;
        
        if (activeFilter === 'all') {
          return textMatch;
        } else if (activeFilter === 'open') {
          return textMatch && vendor.open;
        } else if (activeFilter === 'bbq') {
          return textMatch && vendor.category.toLowerCase().includes('bbq');
        } else if (activeFilter === 'fastfood') {
          return textMatch && vendor.category.toLowerCase().includes('fast food');
        } else if (activeFilter === 'wifi') {
          return textMatch && vendor.badges.includes('Free Wi-Fi');
        }
        
        return textMatch;
      });
      
      renderVendors(filteredVendors);
    }
    
    document.addEventListener('DOMContentLoaded', () => {
      // Save vendors data to localStorage if not exists
      saveVendorData();
      
      // Render all vendors initially
      renderVendors(getVendorsData());
      
      // Add event listeners
      document.getElementById('search-input').addEventListener('input', filterVendors);
      
      // Add event listeners to filter buttons
      const filterButtons = document.querySelectorAll('.filter-button');
      filterButtons.forEach(button => {
        button.addEventListener('click', function() {
          // Remove active class from all buttons
          filterButtons.forEach(btn => btn.classList.remove('active'));
          
          // Add active class to clicked button
          this.classList.add('active');
          
          // Apply filters
          filterVendors();
        });
      });
    });
  </script>
</body>
</html> 